<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

	<title>Learning Javascript</title>

	<style media="screen">
		#light {
			width: 300px;
			height: 450px;
			background-repeat: no-repeat;
		}

		.off {
			background-image: url("img/light-off.png");
		}

		.on {
			background-image: url("img/light-on.png");
		}
	</style>
</head>

<body>

	<div class="container my-5">



		<h3>A high level view of programming</h3>
		<p>Programming means writing instructions to be performed by a computer.</p>

		<button class="btn btn-danger" id="turnOnLamp">
			Turn on lamp
		</button>
		<button class="btn btn-danger" id="plugInLamp">
			Plug in lamp
		</button>
		<button class="btn btn-danger" id="replaceBulb">
			Replace bulb
		</button>

		<pre id="display"></pre>

		<div id="light" class="off"></div>

	</div>

	<script>
		// track the state of things
		var lampIsOn = false;
		var lampPluggedIn = false;
		var lampBulbWorks = false;

		function turnOnLamp() {
			console.log("\nTurning on lamp...");
			// decision making process
			if (!lampIsOn && lampPluggedIn && lampBulbWorks) {
				// update state
				lampIsOn = true;
			} else {
				lampIsOn = false;
			}
			// update the display
			updateDisplay();
		}

		function plugInLamp() {
			console.log("\nPlugging in lamp...");
			// update state
			lampPluggedIn = true;
			// update the display
			updateDisplay();
		}

		function replaceBulb() {
			console.log("\nReplacing bulb...");
			// update state
			lampBulbWorks = true;
			// update the display
			updateDisplay();
		}




		function updateDisplay() {
			// update button styles
			if (lampIsOn) {
				document.getElementById("turnOnLamp").className = "btn btn-success";
				document.getElementById("turnOnLamp").textContent = "Turn off lamp";
				document.getElementById("light").className = "on";
			} else {
				document.getElementById("turnOnLamp").className = "btn btn-danger";
				document.getElementById("turnOnLamp").textContent = "Turn on lamp";
				document.getElementById("light").className = "off";
			}
			if (lampPluggedIn) {
				document.getElementById("plugInLamp").className = "btn btn-success";
			} else {
				document.getElementById("plugInLamp").className = "btn btn-danger";
			}
			if (lampBulbWorks) {
				document.getElementById("replaceBulb").className = "btn btn-success";
			} else {
				document.getElementById("replaceBulb").className = "btn btn-danger";
			}

			// log state to console
			let str = "\nLamp is on = " + lampIsOn +
				"\nLamp plugged-in = " + lampPluggedIn +
				"\nLamp bulb is OK = " + lampBulbWorks;
			console.log(str);
			// update display
			document.getElementById("display").innerHTML = str;
		}


		// event listeners
		document.getElementById("turnOnLamp").addEventListener("click", turnOnLamp);
		document.getElementById("plugInLamp").addEventListener("click", plugInLamp);
		document.getElementById("replaceBulb").addEventListener("click", replaceBulb);
	</script>


	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</body>

</html>
